<!DOCTYPE html>
<html lang="{{ app.request.locale }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>{% block title %}{{ 'admin.title'|trans|default('Admin') }} - Hermio{% endblock %}</title>
    
    {% block stylesheets %}
        {{ encore_entry_link_tags('admin') }}
    {% endblock %}
</head>

<body>

<div class="app-wrap">

    {% include 'admin/_smartadmin_header.html.twig' %}

    {% include 'admin/_smartadmin_sidebar.html.twig' %}

    <main class="app-body">

        <div class="app-content">

            <div class="content-wrapper">

                {% block page_title_block %}
                    {% if block('page_title') is defined %}
                    <div class="page-title-wrapper mb-4">
                        <h1 class="page-title">{% block page_title %}{% endblock %}</h1>
                        {% if block('page_subtitle') is defined %}
                        <p class="page-subtitle">{% block page_subtitle %}{% endblock %}</p>
                        {% endif %}
                    </div>
                    {% endif %}
                {% endblock %}

                <div class="main-content">
                    {% for label, messages in app.flashes %}
                        {% for message in messages %}
                            {# Skip contrast warnings - they are handled specifically in branding template #}
                            {% if not (label == 'warning' and message is iterable and message.type is defined) %}
                                <div class="alert alert-{{ label == 'error' ? 'danger' : label }} alert-dismissible fade show" role="alert">
                                    {% if message is iterable and message.message is defined %}
                                        {% if message.message is not iterable %}
                                            {{ message.message|trans }}
                                        {% else %}
                                            {{ message|join(', ') }}
                                        {% endif %}
                                    {% else %}
                                        {{ message|trans }}
                                    {% endif %}
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            {% endif %}
                        {% endfor %}
                    {% endfor %}
                    
                    {% block content %}{% endblock %}
                </div>
            </div>

        </div>

        {% include "admin/_smartadmin_footer.html.twig" %}

    </main>

</div>

{% block scripts %}
    {{ encore_entry_script_tags('admin') }}
{% endblock %}

</body>
</html>

